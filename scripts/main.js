"use strict";var Model=function(){return{saveData:function(e){var t=JSON.stringify(e);console.log(t),localStorage.setItem("data",t)},getData:function(){var e=localStorage.getItem("data");if(console.log(e),null===e)return null;var t=JSON.parse(e);return console.log(t),t}}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e=Model,t=e.getData();t||(t=[]),document.addEventListener("DOMContentLoaded",function(){s(),c(),i(),l(),o()},!1);var n=document.getElementById("add-task-btn"),a=document.getElementById("task-text"),d=document.getElementById("main-contents"),s=function(){n.addEventListener("click",function(){var n=a.value;if(n){if(null===t){var d=[n];console.log(void 0===d?"undefined":_typeof(d)),e.saveData(d)}else t.push({text:n,done:!1}),e.saveData(t);l(),a.value="";var s=document.getElementById("add-task-modal"),o=document.getElementsByClassName("modal-bg");s.classList.add("hide"),o[0].classList.add("hide")}},!1)},l=function n(){d.innerHTML="",t.forEach(function(a){var s=t.indexOf(a);console.log(s);var l=document.createElement("ul");l.classList.add("task-cell","task-tag");var o=document.createElement("li");o.classList.add("task-check");var c=document.createElement("li");c.classList.add("task-name"),c.textContent=a.text;var i=document.createElement("li");i.classList.add("task-date");var r=s+1,m=document.createElement("input");m.type="checkbox",m.id="task-check-"+r,console.log(m.id),m.addEventListener("change",function(e){var t=e.target.id.substr(11),n=document.getElementById("task-finish-"+t);e.target.checked?n.classList.remove("hide"):n.classList.add("hide")}),o.appendChild(m),l.appendChild(o),l.appendChild(c),l.appendChild(i);var u=document.createElement("ul");u.classList.add("task-cell","task-tag","hide"),u.id="task-finish-"+r;var v=document.createElement("li");v.classList.add("task-done");var f=document.createElement("button");f.classList.add("cancel-btn"),f.textContent="キャンセル",f.addEventListener("click",function(){this.parentNode.parentNode.classList.add("hide"),m.checked=!1});var h=document.createElement("button");h.classList.add("done-btn"),h.textContent="タスク完了",h.addEventListener("click",function(){var a=this.closest("#todo-list");a.parentNode.removeChild(a),console.log(s),t.splice(s,1),e.saveData(t),n()}),v.appendChild(f),v.appendChild(h),u.appendChild(v);var p=document.createElement("div");p.id="todo-list",p.classList.add("task-cell-bb"),p.appendChild(l),p.appendChild(u),d.appendChild(p)}),o()},o=function(){var e=t.length;document.getElementById("all-task-num").textContent=e},c=function(){var e=document.getElementById("all-task"),t=document.getElementById("all-task-flame"),n=document.getElementById("go-to-index");e.addEventListener("click",function(){t.classList.add("show-flame")},!1),n.addEventListener("click",function(){t.classList.remove("show-flame")},!1)},i=function(){var e=document.getElementById("add-btn"),t=document.getElementById("add-task-modal"),n=document.getElementsByClassName("modal-bg"),a=document.getElementById("close-btn");e.addEventListener("click",function(){t.classList.remove("hide"),n[0].classList.remove("hide")},!1),n[0].addEventListener("click",function(){this.classList.contains("hide")||(t.classList.add("hide"),n[0].classList.add("hide"))},!1),a.addEventListener("click",function(){t.classList.add("hide"),n[0].classList.add("hide")},!1)}}();